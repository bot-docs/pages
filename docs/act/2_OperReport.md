---
sort: 2
---

# 用户操作数据上报

## 基本信息

**Path：** /api/v1/OperReport

**Method：** POST

**接口描述：**

仅支持单条数据上报。

## 请求参数

**Headers**

| 参数名称          | 参数值              | 是否必须 | 示例 | 备注 |
|---------------|------------------|------|----|----|
| Content-Type  | application/json | 是    |    |    |
| Authorization | token            | 是    |    |    |

**Body**

| 名称           | 类型        | 是否必须 | 默认值 | 备注                             | 其他信息                       |
|--------------|-----------|------|-----|--------------------------------|----------------------------|
| ts           | integer   | 必须   |     | 时间戳                            |                            |
| nonce        | string    | 必须   |     | 随机字符串                          |                            |
| data    | object | 必须   |     | 上报数据内容        | {}                   |
| ├─ oper_id   | string    | 必须   |     | 操作ID                           | 操作ID官方提供                   |
| ├─ gid       | integer   | 非必须  |     | 群组ID                           |                            |
| ├─ target_id | string    | 非必须  |     | 频道ID                           |                            |
| ├─ uid    | integer   | 非必须  |     | 操作者UID                         |  |
| ├─ ext1      | string    | 非必须  |     | 扩展字段1                          |                            |
| ├─ ext2      | string    | 非必须  |     | 扩展字段2                          |                            |
| ├─ ext3      | string    | 非必须  |     | 扩展字段3                          |                            |
| ├─ ext4      | string    | 非必须  |     | 扩展字段4                          |                            |
| ├─ ext5      | string    | 非必须  |     | 扩展字段5                          |                            |
| ├─ ext6      | string    | 非必须  |     | 扩展字段6                          |                            |
| ├─ ext7      | string    | 非必须  |     | 扩展字段7                          |                            |
| ├─ ext8      | string    | 非必须  |     | 扩展字段8                          |                            |
| ├─ ext9      | string    | 非必须  |     | 扩展字段9                          |                            |
| ├─ ext10     | string    | 非必须  |     | 扩展字段10                         |                            |


## 返回数据

| 名称  | 类型      | 是否必须 | 默认值 | 备注                   | 其他信息 |
|-----|---------|------|-----|----------------------|------|
| ret | integer | 必须   | 0   |                      |      |
| msg | string  | 必须   | ok  |                      |      |


## 投票数据需求

- 1504000120618	用户创建投票
- 1504000120678	用户发起投票
- 1504000120679	用户参与投票
- 1504000120617	用户删除投票

| 字段        | 值                     |
|-----------|-----------------------|
| oper_id   | oper_id       |
| gid       | 群组ID                  |
| target_id | 频道ID                  |
| uid    | 操作者uid |
| ext1     | 投票ID               |

## 抽奖数据需求

- 1505000120618	用户创建抽奖
- 1505000120678	用户发起抽奖
- 1505000120679	用户参与抽奖
- 1505000120617	用户删除抽奖


| 字段        | 值                     |
|-----------|-----------------------|
| oper_id   | oper_id       |
| gid       | 群组ID                  |
| target_id | 频道ID                  |
| uid    | 操作者uid |
| ext1     | 抽奖ID               |

